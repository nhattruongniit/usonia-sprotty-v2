<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
    <title>Sprotty Diagram - Usage</title>
  </head>
  <body>
    <nav class="bg-white h-full fixed top-0 left-0 border-r border-[#dddddd] overflow-auto z-999 p-4 w-[300px]">
      <div class="pb-2">
        <div>Pages</div>
        <div class="px-4 py-3">
          <a href="index.html" class="cursor-pointer text-[#3393bd]">Home</a>
        </div>
      </div>
      <div>
        <div>Engine Usage</div>
        <div class="px-4 pt-3 pb-2">
          <a href="installation.html" class="cursor-pointer text-[#3393bd]">Installation</a>
        </div>
        <div class="px-4 pb-2">
          <a href="usage.html" class="cursor-pointer text-[#3393bd]">Usage</a>
        </div>
        <div class="px-4 pb-2">
          <a href="api.html" class="cursor-pointer text-[#3393bd]">API</a>
        </div>
      </div>
    </nav>

    <main class="ml-[300px] px-[20px] py-4">
      <div>
        <h1 class="text-[28px] font-weight border-b border-[#dddddd]">Basic Usage</h1>

        <h2 class="text-[24px] font-weight border-b border-[#dddddd] mt-6">Simple HTML</h2>
        <pre style="height: auto; max-height: 400px; overflow-y: auto;">
          <code class="bg-[#f0f0f0] border-l border-[#3393bd] block p-4">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My Diagram&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="sprotty-container" style="width: 100%; height: 600px;"&gt;&lt;/div&gt;
    &lt;script src="https://unpkg.com/@usonialab/sprotty-diagram/dist/sprotty.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        window.addEventListener('load', async () =&gt; {
            try {
                // Initialize Sprotty
                sprottyInstance = new Sprotty({
                    containerId: 'sprotty-container',
                    initialModel: {
                        type: 'graph',
                        id: 'graph',
                        children: []
                    }
                });
                
                await sprottyInstance.init();
                console.log('Sprotty initialized successfully!');
            } catch (error) {
                console.error('Failed to initialize Sprotty:', error);
            }
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
        </pre>

         <h2 class="text-[24px] font-weight border-b border-[#dddddd] mt-6">With React + TypeScript</h2>
        <pre style="height: auto; max-height: 600px; overflow-y: auto;">
          <code class="bg-[#f0f0f0] border-l border-[#3393bd] block p-4">import React, { useEffect, useRef, useState } from 'react';
import { Sprotty } from '@usonialab/sprotty-diagram';

const DiagramComponent: React.FC = () =&gt; {
    const containerRef = useRef&lt;HTMLDivElement&gt;(null);
    const sprottyRef = useRef&lt;Sprotty | null&gt;(null);
    const [isInitialized, setIsInitialized] = useState&lt;boolean&gt;(false);

    useEffect(() =&gt; {
        const initSprotty = async () =&gt; {
            try {
                sprottyRef.current = new Sprotty({
                    containerId: 'sprotty-container',
                    initialModel: {
                        type: 'graph',
                        id: 'graph',
                        children: []
                    }
                });

                await sprottyRef.current.init();
                setIsInitialized(true);
                console.log('Sprotty initialized successfully!');
            } catch (error) {
                console.error('Failed to initialize Sprotty:', error);
            }
        };

        initSprotty();

        return () =&gt; {
            if (sprottyRef.current) {
                sprottyRef.current.destroy();
            }
        };
    }, []);

    const addNode = (): void =&gt; {
        if (sprottyRef.current &amp;&amp; isInitialized) {
            sprottyRef.current.createNodeWithPorts({
                id: `node-${Date.now()}`,
                x: 100,
                y: 100,
                name: 'New Node',
                size: { width: 120, height: 60 },
                ports: [
                    { type: 'input', side: 'left', shape: 'circle' },
                    { type: 'output', side: 'right', shape: 'circle' }
                ]
            });
        }
    };

    return (
        &lt;div&gt;
            &lt;button onClick={addNode} disabled={!isInitialized}&gt;
                Add Node
            &lt;/button&gt;
            &lt;div 
                id="sprotty-container" 
                ref={containerRef}
                style={{ width: '100%', height: '600px', border: '1px solid #ccc' }}
            /&gt;
        &lt;/div&gt;
    );
};

export default DiagramComponent;</code>
        </pre>
      </div>
    </main>
  </body>
</html>