<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/images/logo.svg" />

    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    
    <!-- Monaco Editor -->
    <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/editor/editor.main.min.css" />
  
    <title>Sprotty-2 Minimal</title>
</head>
<body>
    <div class="geMenubarContainer">
        <img src="assets/images/logo.svg" width="35px" />
        <div class="geMenubar_box">
            <div class="geMenubarContainer_title">
                Usonia Sprotty
            </div>
            <div class="geMenubar_action">
                <button id="import-json-btn" class="geMenubar_button" title="Import JSON">Import Json</i></button>
                <button id="export-json-btn" class="geMenubar_button" itle="Export JSON">Export Json</i></button>
            </div>
        </div>
    </div>

    <div class="geToolbarContainer">
        <div id="add-parent-node-btn" class="geToolbarContainer_toolbar">
            <i class="fa-solid fa-plus"></i>
            <span>Add Parent node</span>
        </div>

        <div id="create-svg-node-btn" class="geToolbarContainer_toolbar">
            <i class="fa-solid fa-plus"></i>
            <span>Create SVG node</span>
        </div>

        <div id="import-svg-node-btn" class="geToolbarContainer_toolbar">
            <i class="fa-solid fa-file-import"></i>
            <span>Import SVG node</span>
        </div>

        <div id="parse-svg-btn" class="geToolbarContainer_toolbar">
            <i class="fa-solid fa-file"></i>
            <span>Parse SVG</span>
        </div>
    </div>
    
    <main class="geContainer">
        <div class="geSidebarContainer">
            <details>
                <summary class="cursor-pointer">Library</summary>
                <details class="ml-5">
                    <summary class="cursor-pointer">Modelica</summary>
                    <div id="modelica-node-library">
                        
                    </div>
                </details>
                <details class="ml-5">
                    <summary class="cursor-pointer">Svg Node</summary>
                    <div id="svg-node-library"></div>
                </details>
            </details>
        </div>

        <div 
            class="geDiagramContainer" 
            style="background: #fff url('assets/images/grid-line.svg') center center repeat;"
        >
            <div id="sprotty-container"></div>

            <div class="zoom-container">
                <button id="zoom-in" class="btn-control cursor-pointer">
                    <i class="fa-solid fa-plus fa-lg icon"></i>
                </button>
                <button id="zoom-out" class="btn-control cursor-pointer">
                    <i class="fa-solid fa-minus fa-lg icon"></i>
                </button>
                <button id="zoom-fit" class="btn-control cursor-pointer">
                    <i class="fa-solid fa-expand fa-lg icon"></i>
                </button>
            </div>

            <div class="align-container">
                <button id="align-left" class="btn-control cursor-pointer" title="Align Left">
                    <i class="fa-solid fa-align-left fa-lg icon"></i>
                </button>
                <button id="align-center-vertical" class="btn-control cursor-pointer" title="Align Center Vertically">
                    <i class="fa-solid fa-align-center fa-lg icon"></i>
                </button>
                <button id="align-right" class="btn-control cursor-pointer" title="Align Right">
                    <i class="fa-solid fa-align-right fa-lg icon"></i>
                </button>
                <button id="align-top" class="btn-control cursor-pointer" title="Align Top">
                    <i class="fa-solid fa-align-justify fa-lg icon"></i>
                </button>
            </div>
        </div>

        <div id="editor-json" class="geMonaco">
          
            <button id="btn-toggle-collapse-monaco" type="button" class="z-2 cursor-pointer w-[30px] h-[30px] text-gray-400 bg-gray-500 rounded text-sm flex items-center justify-center absolute left-[-10px] hover:bg-gray-600">
                <i class="fa-solid fa-chevron-right text-white"></i>
            </button>
        </div>
    </main>


    <!-- context menu graph -->
    <div id="context-menu-graph" class="context-menu">
        <ul>
            <li id="context-add-node">Add Node</li>
        </ul>
    </div>

    <!-- context menu node -->
    <div id="context-menu-node" class="context-menu">
        <ul>
            <li id="context-flip-horizontal-node">Flip Node Horizontal</li>
            <li id="context-flip-vertical-node">Flip Node Vertical</li>
            <li id="context-rotate-left-node">Rotate Left</li>
            <li id="context-rotate-right-node">Rotate Right</li>
            <li id="context-show-json-node">Show JSON</li>
            <li id="context-copy-json-node">Copy JSON</li>
            <li id="context-duplicate-node">Duplicate</li>
            <li id="context-delete-node" style="color: red">Delete</li>
        </ul>
    </div>

    <!-- context menu edge -->
     <div id="context-menu-edge" class="context-menu">
        <ul>
            <li id="context-show-json-edge">Show JSON</li>
            <li id="context-copy-json-edge">Copy JSON</li>
            <li id="context-change-line-edge">
                Change line
                <ul class="submenu">
                    <li id="context-change-dash-edge">Dash</li>
                    <li id="context-change-line-edge">Line</li>
                </ul>
            </li>
            <li id="context-delete-edge" style="color: red">Delete</li>
        </ul>
    </div>

    <!-- modal json -->
    <div id="modal-json-container" class="fixed top-0 left-0 w-full h-full z[1000] hidden">
        <div id="modal-json-blur" class="absolute w-full h-full bg-black opacity-50"></div>
        <div class="max-w-[800px] h-full flex justify-center items-center my-0 mx-auto">
            <div class="w-full relative overflow-y-auto flex flex-col items-center bg-white shadow-md rounded-xl">
                <div class="flex shrink-0 items-center justify-between p-2 border-[#dee2e6] border-b w-full">
                    <h3 class="text-xl font-semibold text-gray-900">JSON</h3>
                    <button type="button" id="modal-json-close-btn" class="cursor-pointer text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center" data-modal-hide="delete-modal">
                        <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                </div>
                <div class="p-2 w-full max-h-[80vh] overflow-y-auto">
                    <pre id="modal-json-content" class="w-full block mt-0 mb-2 overflow-auto"></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- modal parse svg -->
    <div id="modal-parse-svg-container" class="hidden fixed top-0 left-0 w-full h-full z-2">
        <div id="modal-json-blur" class="absolute w-full h-full bg-black opacity-50"></div>
        <div class="max-w-[1140px] h-1/2 flex justify-center items-center my-0 mx-auto">
            <div class="w-full relative overflow-y-auto flex flex-col items-center bg-white shadow-md rounded-xl">
                <div class="flex shrink-0 items-center justify-between p-2 border-[#dee2e6] border-b w-full">
                    <h3 class="text-xl font-semibold text-gray-900">Parse SVG file</h3>
                    <button type="button" id="modal-parse-svg-close-btn" class="cursor-pointer text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center" data-modal-hide="delete-modal">
                        <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                </div>
                <div class="p-2 w-full max-h-[80vh] flex items-center">
                    <div class="w-full">
                        <textarea id="svg-content-textarea" class="w-full h-30 p-2 border border-gray-300 rounded-md resize-none" placeholder="Paste stringify SVG content here..."></textarea>
                    </div>

                    <div class="p-2">
                        <button type="button" id="btn-confirm-parse-svg-content" class="px-2 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer" style="width: 70px">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="w-full relative">
                        <textarea disabled id="svg-result-textarea" class="w-full h-30 p-2 bg-gray-200 border border-gray-300 rounded-md resize-none"></textarea>
                        <button id="parse-svg-copy-btn" type="button" class="px-2 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer absolute top-2 right-2">
                            <i class="fa-solid fa-copy"></i>
                        </button>
                    </div>
                </div>

                <div id="parse-svg-show-result" class="hidden flex">
                    <!-- SVG preview will be shown here -->
                </div>

                <div class="w-full p-2 flex justify-end">
                    <button id="parse-svg-clear-btn" class="px-4 py-2 mr-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 cursor-pointer">Clear</button>
                    <button id="parse-svg-download-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer">Download</button>
                </div>
            </div>
        </div>
    </div>

    <!-- modal create svg node -->
    <div id="modal-create-svg-container" class="hidden fixed top-0 left-0 w-full h-full z-2">
        <div id="modal-json-blur" class="absolute w-full h-full bg-black opacity-50"></div>
        <div class="max-w-[1140px] h-1/2 flex justify-center items-center my-0 mx-auto">
            <div class="w-full relative overflow-y-auto flex flex-col items-center bg-white shadow-md rounded-xl">
                <div class="flex shrink-0 items-center justify-between p-2 border-[#dee2e6] border-b w-full">
                    <h3 class="text-xl font-semibold text-gray-900">Create SVG node</h3>
                    <button type="button" id="modal-create-svg-close-btn" class="cursor-pointer text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center" data-modal-hide="delete-modal">
                        <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                </div>
                <div class="w-full p-2 flex flex-col">
                    <div>Name</div>
                    <div class="w-full mt-2">
                        <input type="text" id="create-svg-name-input" class="w-full h-10 p-2 border border-gray-300 rounded-md resize-none mb-2" placeholder="Enter SVG node name..." />
                    </div>
                </div>
                <div class="p-2 w-full max-h-[80vh] flex items-center">
                    <div class="w-full">
                        <textarea id="svg-file-textarea" class="w-full h-30 p-2 border border-gray-300 rounded-md resize-none" placeholder="Paste SVG flie here..."></textarea>
                    </div>

                    <div class="p-2">
                        <button type="button" id="btn-confirm-create-svg" class="px-2 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer" style="width: 70px">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="w-full relative">
                        <textarea disabled id="svg-stringify-textarea" class="w-full h-30 p-2 bg-gray-200 border border-gray-300 rounded-md resize-none"></textarea>
                        <button id="create-svg-copy-btn" type="button" class="px-2 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer absolute top-2 right-2">
                            <i class="fa-solid fa-copy"></i>
                        </button>
                    </div>
                </div>

                <div id="create-svg-show-result" class="hidden flex">
                    <!-- SVG preview will be shown here -->
                </div>

                <div class="w-full p-2 flex justify-end">
                    <button id="modal-clear-svg-node-btn" class="px-4 py-2 mr-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 cursor-pointer">Clear</button>
                    <button id="modal-create-svg-node-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer">Create</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Monaco Editor Loader -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>

    <script src="assets/js/bundle.js"></script>
</body>
</html>
